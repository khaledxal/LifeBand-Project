<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LifeBand - ุงูุชุทูุน ุงูุตุญู</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="page-fade">
    <div class="bg-animation"></div>

    <div class="container" id="main-layout">
        
        <main class="glass-card" style="margin-top: 50px; padding: 40px;">
            <div style="text-align: center; margin-bottom: 40px;">
                <h1 style="color: var(--primary);" data-i18n="vol_title">ุจุฑูุงูุฌ ุงูุชุทูุน ุงูุตุญู</h1>
                <p data-i18n="vol_subtitle">ุณุงูู ูุนูุง ูู ุฅููุงุฐ ุงูุฃุฑูุงุญ ููุดุฑ ุงููุนู</p>
            </div>

            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                <div class="glass-card" style="background: rgba(255,255,255,0.05); border-right: 4px solid var(--primary);">
                    <h3 style="color: var(--secondary);" data-i18n="vol_vision_t">ุฑุคูุชูุง</h3>
                    <p data-i18n="vol_vision_p">ุฃู ูููู ูููุฐุฌุงู ุฑุงุฆุฏุงู ูู ุชูุฏูู ุฎุฏูุงุช ูุจุฑุงูุฌ ุงูุชุทูุน ุงูุตุญู ูุชุนุฒูุฒ ูุณุงููุฉ ุงููุชุทูุนูู ูู ุงูุชูููุฉ ุงูุตุญูุฉ ุงููุณุชุฏุงูุฉ.</p>
                </div>
                <div class="glass-card" style="background: rgba(255,255,255,0.05); border-right: 4px solid var(--secondary);">
                    <h3 style="color: var(--secondary);" data-i18n="vol_mission_t">ุฑุณุงูุชูุง</h3>
                    <p data-i18n="vol_mission_p">ุชุนุฒูุฒ ุซูุงูุฉ ุงูุนูู ุงูุชุทูุนู ูุชูููู ุงููุชุทูุนูู ูู ุฎูุงู ุชูุธูู ูุชุทููุฑ ููุธููุฉ ุงูุนูู ุงูุชุทูุนู ูุชุญููู ุงูุชููุฒ ุงููุคุณุณู.</p>
                </div>
            </div>

            <div style="margin-top: 50px;">
                <h3 style="text-align: center; margin-bottom: 30px;" data-i18n="vol_why_t">ููุงุฐุง ุชุชุทูุน ูู LifeBandุ</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; text-align: center;">
                    <div class="glass-card" style="padding: 20px;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">๐ก๏ธ</div>
                        <h4 data-i18n="vol_feat1_t">ุดูุงุฏุงุช ูุนุชูุฏุฉ</h4>
                        <p style="font-size: 0.9rem; opacity: 0.8;" data-i18n="vol_feat1_p">ุงุญุตู ุนูู ุดูุงุฏุงุช ุชุทูุน ูุนุชูุฏุฉ ูุณุงุนุงุช ุนููู.</p>
                    </div>
                    <div class="glass-card" style="padding: 20px;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">๐</div>
                        <h4 data-i18n="vol_feat2_t">ุชุฏุฑูุจ ูุณุชูุฑ</h4>
                        <p style="font-size: 0.9rem; opacity: 0.8;" data-i18n="vol_feat2_p">ุฏูุฑุงุช ุชุฏุฑูุจูุฉ ูุชูุฏูุฉ ูู ุงูุฅุณุนุงูุงุช ูุงูุชูููุฉ.</p>
                    </div>
                    <div class="glass-card" style="padding: 20px;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">๐</div>
                        <h4 data-i18n="vol_feat3_t">ูุธุงู ุงูููุงุท</h4>
                        <p style="font-size: 0.9rem; opacity: 0.8;" data-i18n="vol_feat3_p">ุญูู ุฌููุฏู ุฅูู ููุงุท ูููุงูุขุช ุฏุงุฎู ุงูููุตุฉ.</p>
                    </div>
                </div>
            </div>

            <div style="margin-top: 50px;">
                <h3 style="text-align: center; margin-bottom: 25px;" data-i18n="vol_values_t">ููููุง ุงูุฌููุฑูุฉ</h3>
                <div style="display: flex; justify-content: center; gap: 12px; flex-wrap: wrap;">
                    <span class="nav-item" style="background: var(--glass); cursor: default;" data-i18n="val_quality">โญ ุงูุฌูุฏุฉ</span>
                    <span class="nav-item" style="background: var(--glass); cursor: default;" data-i18n="val_integrity">โ๏ธ ุงููุฒุงูุฉ</span>
                    <span class="nav-item" style="background: var(--glass); cursor: default;" data-i18n="val_volunteering">๐ค ุงูุชุทูุน</span>
                    <span class="nav-item" style="background: var(--glass); cursor: default;" data-i18n="val_improvement">๐ ุงูุชุญุณูู ุงููุณุชูุฑ</span>
                    <span class="nav-item" style="background: var(--glass); cursor: default;" data-i18n="val_humanity">โค๏ธ ุงูุฅูุณุงููุฉ</span>
                </div>
            </div>

            <button onclick="location.href='register.html'" class="main-btn" style="margin-top: 50px; display: block; margin-left: auto; margin-right: auto; max-width: 320px;" data-i18n="btn_reg_vol">
                ุณุฌู ููุชุทูุน ุงูุขู
            </button>
        </main>
    </div>

    <script type="module">
        import { injectLayout } from './js/layout.js';
        import { auth } from './js/firebase-config.js';
        import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // 1. ุชุดุบูู ุงููููู ุงูููุญุฏ
        injectLayout();

        // 2. ุชุญุฏูุซ ูุงุฌูุฉ ุงูุฏุฎูู ูู ุงููุงู ุจุงุฑ
        onAuthStateChanged(auth, (user) => {
            const authZone = document.getElementById('auth-zone');
            const lang = localStorage.getItem('preferred_lang') || 'ar';
            if (user && authZone) {
                authZone.innerHTML = `
                    <a href="profile.html?id=${user.uid}" class="nav-item">${lang === 'ar' ? 'ูููู' : 'Profile'}</a>
                    <button id="logoutBtn" class="nav-item" style="background:none; border:none; cursor:pointer; color: #ef4444;">${lang === 'ar' ? 'ุฎุฑูุฌ' : 'Logout'}</button>
                `;
                document.getElementById('logoutBtn').onclick = () => signOut(auth).then(() => window.location.reload());
            }
        });

        // 3. ููุทู ุงูุชุฑุฌูุฉ ููุนูุงุตุฑ ุงููุถุงูุฉ ุญุฏูุซุงู
        const extraTranslations = {
            ar: {
                vol_why_t: "ููุงุฐุง ุชุชุทูุน ูู LifeBandุ",
                vol_feat1_t: "ุดูุงุฏุงุช ูุนุชูุฏุฉ",
                vol_feat1_p: "ุงุญุตู ุนูู ุดูุงุฏุงุช ุชุทูุน ูุนุชูุฏุฉ ูุณุงุนุงุช ุนููู.",
                vol_feat2_t: "ุชุฏุฑูุจ ูุณุชูุฑ",
                vol_feat2_p: "ุฏูุฑุงุช ุชุฏุฑูุจูุฉ ูุชูุฏูุฉ ูู ุงูุฅุณุนุงูุงุช ูุงูุชูููุฉ.",
                vol_feat3_t: "ูุธุงู ุงูููุงุท",
                vol_feat3_p: "ุญูู ุฌููุฏู ุฅูู ููุงุท ูููุงูุขุช ุฏุงุฎู ุงูููุตุฉ."
            },
            en: {
                vol_why_t: "Why Volunteer with LifeBand?",
                vol_feat1_t: "Certified Recognition",
                vol_feat1_p: "Get certified volunteering hours for your service.",
                vol_feat2_t: "Ongoing Training",
                vol_feat2_p: "Advanced courses in first aid and technology.",
                vol_feat3_t: "Reward System",
                vol_feat3_p: "Convert your efforts into points and rewards."
            }
        };

        function updateExtraLang(lang) {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (extraTranslations[lang][key]) {
                    el.innerText = extraTranslations[lang][key];
                }
            });
        }

        // ุชุดุบูู ุงูุชุฑุฌูุฉ ุนูุฏ ุงูุชุญููู
        updateExtraLang(localStorage.getItem('preferred_lang') || 'ar');

        // ูุฑุงูุจุฉ ุชุบููุฑ ุงููุบุฉ ูู ุงูููุฏุฑ
        document.addEventListener('click', (e) => {
            if (e.target.id === 'langBtn') {
                setTimeout(() => updateExtraLang(localStorage.getItem('preferred_lang')), 50);
            }
        });
    </script>
</body>
</html>